import{d as _,u as h,b as y,o,f as s,a as k,j as d,t as A,k as p,g as u,i as f,A as x,e as w}from"./index-4237bad8.js";import{_ as g,C}from"./CourseEditor.vue_vue_type_script_setup_true_lang-154cf03a.js";import{S as v}from"./Spinner-d5f91105.js";import"./BlobService-4c3bc0ed.js";const T={class:"coursePostBackground min-h-screen"},b={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-white"},L={key:0,class:"text-2xl font-bold border-slate-400 rounded border-2 p-1 pl-2"},M=["innerHTML"],N=["innerHTML"],S=_({__name:"CoursePost",props:{id:{},name:{},description:{},content:{},templatedContent:{}},setup(r){const n=f(),c=h(),e=r,t=y({isEditMode:!1,showPreview:!1,id:e.id,name:e.name,description:e.description,content:e.content});async function i(a){const l={id:e.id,content:a.content,metadata:{name:a.name,description:a.description}};await C.updateAsync(l,{toast:c,token:await x.getAccessTokenAsync(n,{toast:c})}),window.location.reload()}return(a,l)=>{var m;return o(),s("div",T,[k("div",b,[d(n).isAuthenticated?(o(),s("p",L,A((m=t.name)==null?void 0:m.toUpperCase()),1)):p("",!0),d(n).isAuthenticated?(o(),s("p",{key:1,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:t.description},null,8,M)):p("",!0),d(n).isAuthenticated?(o(),s("div",{key:2,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:e.templatedContent},null,8,N)):p("",!0),u(g,{handler:i,handlerText:"Update",courseId:t.id,courseContent:t.content,courseDescription:t.description,courseName:t.name},null,8,["courseId","courseContent","courseDescription","courseName"])])])}}}),B={key:0,class:"flex place-content-center"},H={key:1},U=_({__name:"CoursePostView",props:{id:{}},setup(r){const n=f(),c=r,e=y({isLoading:!0,course:{}}),t=h();return w(async()=>{try{e.course=await C.getAsync(c.id,{toast:t,token:await x.getAccessTokenAsync(n)})}finally{e.isLoading=!1}}),(i,a)=>e.isLoading?(o(),s("div",B,[u(v)])):(o(),s("div",H,[u(S,{id:i.id,name:e.course.metadata.name,content:e.course.content,"templated-content":e.course.templatedContent?e.course.templatedContent:"",description:e.course.metadata.description},null,8,["id","name","content","templated-content","description"])]))}});export{U as default};
