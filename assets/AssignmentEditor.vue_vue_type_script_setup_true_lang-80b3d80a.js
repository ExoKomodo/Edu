import{d as M,u as S,b as f,j as _,k as i,o as d,f as l,l as v,v as y,a as o,t as h,g as p,m as P,n as E,C as b,q as u,z as C,F as I,h as q,i as U,A as a}from"./index-bb143292.js";import{S as T}from"./SectionService-c2dfd566.js";const N={key:0,class:"bg-mysticStone text-white border-slate-400 border-2 rounded p-1 pl-2 my-2"},D=o("div",{class:"text-2xl"},"Assignment Editor",-1),B={for:"edit-mode"},F=o("label",{for:"show-preview"}," Show preview?",-1),L={key:0},z=o("div",{class:"text-white border-white border-2 rounded p-1 pl-2 my-2 mr-12"},"Name",-1),H={key:0,class:"text-2xl font-bold border-slate-400 rounded border-2 p-1 pl-2"},j=o("div",{class:"text-white border-white border-2 rounded p-1 pl-2 p my-2 mr-1"},"Short Description",-1),$={key:1,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2"},G=o("div",{class:"text-white border-white border-2 rounded p-1 pl-2 my-2 mr-8"},"Problem Explanation",-1),J=["innerHTML"],K=o("label",{for:"required-sections"},"Choose required sections:",-1),O=["value"],Q=o("div",{class:"text-white border-white border-2 rounded p-1 pl-2 my-2 mr-12"},"Id",-1),X=M({__name:"AssignmentEditor",props:{handler:{type:Function},handlerText:{},assignmentId:{},assignmentName:{},assignmentDescription:{},assignmentProblemExplanation:{},assignmentSectionIds:{}},async setup(V){let n,c;const r=U(),x=S(),m=V,e=f({isEditMode:!1,showPreview:!1,id:m.assignmentId,name:m.assignmentName,description:m.assignmentDescription,problemExplanation:m.assignmentProblemExplanation,requiredSectionIds:m.assignmentSectionIds}),k=([n,c]=_(async()=>T.getAllAsync({toast:x,token:([n,c]=_(()=>a.getAccessTokenAsync(r,{toast:x})),n=await n,c(),n)})),n=await n,c(),n);return(w,s)=>{var g;return i(a).isAdmin(i(r))?(d(),l("div",N,[D,v(o("input",{type:"checkbox",id:"edit-mode",name:"editMode","onUpdate:modelValue":s[0]||(s[0]=t=>e.isEditMode=t)},null,512),[[y,e.isEditMode]]),o("label",B,h(w.handlerText)+" mode?",1),o("span",{class:E(["inline-block",{invisible:!e.isEditMode}])},[p(P,{handler:()=>w.handler(e),text:w.handlerText},null,8,["handler","text"])],2),o("div",{class:E({invisible:!e.isEditMode})},[v(o("input",{type:"checkbox",id:"show-preview",name:"showPreview","onUpdate:modelValue":s[1]||(s[1]=t=>e.showPreview=t)},null,512),[[y,e.showPreview]]),F],2),i(a).isAdmin(i(r))&&e.isEditMode?(d(),l("div",L,[z,p(b,{modelValue:e.name,"onUpdate:modelValue":s[2]||(s[2]=t=>e.name=t),height:2},null,8,["modelValue"]),i(a).isAdmin(i(r))&&e.isEditMode&&e.showPreview?(d(),l("p",H,h((g=e.name)==null?void 0:g.toUpperCase()),1)):u("",!0),j,p(b,{modelValue:e.description,"onUpdate:modelValue":s[3]||(s[3]=t=>e.description=t),height:2},null,8,["modelValue"]),i(a).isAdmin(i(r))&&e.isEditMode&&e.showPreview?(d(),l("p",$,h(e.description),1)):u("",!0),G,p(b,{modelValue:e.problemExplanation,"onUpdate:modelValue":s[4]||(s[4]=t=>e.problemExplanation=t),language:"html",height:40},null,8,["modelValue"]),i(a).isAdmin(i(r))&&e.isEditMode&&e.showPreview?(d(),l("div",{key:2,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:e.problemExplanation},null,8,J)):u("",!0),o("div",null,[K,v(o("select",{id:"required-sections",name:"required-sections",class:"h-10","onUpdate:modelValue":s[5]||(s[5]=t=>e.requiredSectionIds=t),multiple:""},[(d(!0),l(I,null,q(i(k),([t,A])=>(d(),l("option",{value:t,class:"text-black"},h(A.name),9,O))),256))],512),[[C,e.requiredSectionIds]])]),Q,p(b,{modelValue:e.id,"onUpdate:modelValue":s[6]||(s[6]=t=>e.id=t),height:2},null,8,["modelValue"])])):u("",!0)])):u("",!0)}}});export{X as _};
