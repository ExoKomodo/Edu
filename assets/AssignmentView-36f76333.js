import{d as A,_ as k,r as w,o as t,c as h,w as I,a as c,t as f,u as S,b as v,e as $,A as r,f as o,g as l,F as b,h as L,i as T,j as x,k as q,l as C}from"./index-3fc7e24a.js";import{A as u,_ as B}from"./AssignmentService-bc68d441.js";import{S as E}from"./Spinner-31e2dbd4.js";import"./SectionService-1dd80d0f.js";import"./BlobService-b6957b08.js";const N=A({name:"AssignmentLink",props:{name:{type:String,required:!0},description:{type:String,required:!0},id:{type:String,required:!0},courseId:{type:String,required:!0}}});const V={class:"text-2xl"},D={class:"text-gray-400"};function j(s,a,n,d,i,p){const m=w("RouterLink");return t(),h(m,{to:`/course/${s.courseId}/assignment/${s.id}`,class:"hover:bg-midnightGreen flex flex-col transition duration-250"},{default:I(()=>[c("p",V,f(s.name),1),c("p",D,f(s.description)+"...",1)]),_:1},8,["to"])}const F=k(N,[["render",j],["__scopeId","data-v-0d516b07"]]),M={class:"assignmentBackground min-h-screen"},R={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5 my-5"},G=c("h1",{class:"p-2 bg-mysticStone text-white rounded flex justify-center text-3xl font-bold my-3"},"Assignments",-1),P={key:0,class:"flex place-content-center"},z={key:1},X=A({__name:"AssignmentView",props:{courseId:{}},setup(s){const a=T(),n=S(),d=s,i=v({isLoading:!0,assignmentIndex:{}});async function p(e){const _={id:e.id,problemExplanation:e.problemExplanation,metadata:{name:e.name,description:e.description,requiredSectionIds:e.requiredSectionIds,courseId:d.courseId}};await u.createAsync(_,{toast:n,token:await r.getAccessTokenAsync(a,{toast:n})}),window.location.reload()}async function m(e){await u.deleteAsync(e,{toast:n,token:await r.getAccessTokenAsync(a,{toast:n})}),window.location.reload()}function H(e){return e}function J(e){return e}return $(async()=>{try{i.assignmentIndex=await u.getAllAsync({toast:n,token:await r.getAccessTokenAsync(a,{toast:n})})}finally{i.isLoading=!1}}),(e,_)=>(t(),o("div",M,[c("div",R,[G,i.isLoading?(t(),o("div",P,[l(E)])):(t(),o("div",z,[(t(!0),o(b,null,L(i.assignmentIndex,(g,y)=>(t(),o("span",null,[l(F,{class:"p-2 bg-mysticStone text-white rounded flex pl-5 my-3",id:y,courseId:d.courseId,name:g.name,description:g.description},null,8,["id","courseId","name","description"]),x(r).isAdmin(x(a))?(t(),h(C,{key:0,handler:async()=>await m(y),text:"Delete?",class:"w-20"},null,8,["handler"])):q("",!0)]))),256)),l(B,{handler:p,handlerText:"Create",assignmentId:"",assignmentProblemExplanation:"",assignmentDescription:"",assignmentName:"",assignmentSectionIds:[]})]))])]))}});export{X as default};
