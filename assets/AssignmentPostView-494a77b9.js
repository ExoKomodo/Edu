import{d as x,u as h,b,o as n,f as t,a as c,k as r,t as m,q as d,F as k,h as E,g as u,i as I,A as f,e as w}from"./index-bb143292.js";import{_ as S}from"./AssignmentEditor.vue_vue_type_script_setup_true_lang-80b3d80a.js";import{A as y}from"./AssignmentService-e59bc306.js";import{S as v}from"./Spinner-3ca749ba.js";import"./SectionService-c2dfd566.js";const T={class:"assignmentPostBackground min-h-screen"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-white"},P={key:0,class:"text-2xl font-bold border-slate-400 rounded border-2 p-1 pl-2"},q={key:1,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2"},N=c("figcaption",null,"Required Sections",-1),B={class:"list-disc pl-6"},M={key:2,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2"},V=["innerHTML"],$=x({__name:"AssignmentPost",props:{id:{},courseId:{},name:{},description:{},problemExplanation:{},sectionIds:{}},setup(l){const i=I(),a=h(),e=l,s=b({isEditMode:!1,showPreview:!1,id:e.id,name:e.name,description:e.description,problemExplanation:e.problemExplanation,sectionIds:e.sectionIds});async function p(o){const g={id:e.id,problemExplanation:o.problemExplanation,metadata:{name:o.name,description:o.description,requiredSectionIds:o.requiredSectionIds,courseId:e.courseId}};await y.updateAsync(g,{toast:a,token:await f.getAccessTokenAsync(i,{toast:a})}),window.location.reload()}return(o,g)=>{var _;return n(),t("div",T,[c("div",L,[r(i).isAuthenticated?(n(),t("p",P,m((_=s.name)==null?void 0:_.toUpperCase()),1)):d("",!0),r(i).isAuthenticated?(n(),t("div",q,[c("figure",null,[N,c("ul",B,[(n(!0),t(k,null,E(s.sectionIds,A=>(n(),t("li",null,m(A),1))),256))])])])):d("",!0),r(i).isAuthenticated?(n(),t("p",M,m(s.description),1)):d("",!0),r(i).isAuthenticated?(n(),t("p",{key:3,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:s.problemExplanation},null,8,V)):d("",!0),u(S,{handler:p,handlerText:"Update",assignmentId:s.id,assignmentProblemExplanation:s.problemExplanation,assignmentDescription:s.description,assignmentName:s.name,assignmentSectionIds:s.sectionIds},null,8,["assignmentId","assignmentProblemExplanation","assignmentDescription","assignmentName","assignmentSectionIds"])])])}}}),C={key:0,class:"flex place-content-center"},D={key:1},z=x({__name:"AssignmentPostView",props:{id:{},courseId:{}},setup(l){const i=I(),a=l,e=b({isLoading:!0,assignment:{}}),s=h();return w(async()=>{try{e.assignment=await y.getAsync(a.id,{toast:s,token:await f.getAccessTokenAsync(i)})}finally{e.isLoading=!1}}),(p,o)=>e.isLoading?(n(),t("div",C,[u(v)])):(n(),t("div",D,[u($,{id:p.id,name:e.assignment.metadata.name,problemExplanation:e.assignment.problemExplanation,description:e.assignment.metadata.description,courseId:a.courseId,sectionIds:e.assignment.metadata.requiredSectionIds},null,8,["id","name","problemExplanation","description","courseId","sectionIds"])]))}});export{z as default};
