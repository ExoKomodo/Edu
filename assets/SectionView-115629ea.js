import{d as h,_ as S,r as k,o as n,c as g,w,a as r,u as A,b as I,e as L,A as a,f as i,g as u,F as v,h as T,i as $,j as x,k as C,l as b}from"./index-4237bad8.js";import{_ as M}from"./SectionEditor.vue_vue_type_script_setup_true_lang-9eb4bfb9.js";import{S as p}from"./SectionService-ae5e7b46.js";import{S as B}from"./Spinner-d5f91105.js";import"./BlobService-4c3bc0ed.js";const N=h({name:"SectionLink",props:{name:{type:String,required:!0},description:{type:String,required:!0},id:{type:String,required:!0},courseId:{type:String,required:!0}}});const q=["innerHTML"],H=["innerHTML"];function V(o,s,t,d,c,_){const l=k("RouterLink");return n(),g(l,{to:`/course/${o.courseId}/section/${o.id}`,class:"hover:bg-midnightGreen flex flex-col transition duration-250"},{default:w(()=>[r("p",{class:"text-2xl",innerHTML:o.name},null,8,q),r("p",{class:"text-gray-400",innerHTML:o.description},null,8,H)]),_:1},8,["to"])}const D=S(N,[["render",V],["__scopeId","data-v-0206ac72"]]),j={class:"sectionBackground min-h-screen"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5 my-5"},R=r("h1",{class:"p-2 bg-mysticStone text-white rounded flex justify-center text-3xl font-bold my-3"},"Sections",-1),E={key:0,class:"flex place-content-center"},G={key:1},W=h({__name:"SectionView",props:{courseId:{}},setup(o){const s=$(),t=A(),d=o,c=I({isLoading:!0,sectionIndex:{}});async function _(e){const m={id:e.id,content:e.content,difficulty:Number.parseInt(e.difficulty),metadata:{name:e.name,description:e.description,courseId:d.courseId}};await p.createAsync(m,{toast:t,token:await a.getAccessTokenAsync(s,{toast:t})}),window.location.reload()}async function l(e){await p.deleteAsync(e,{toast:t,token:await a.getAccessTokenAsync(s,{toast:t})}),window.location.reload()}function z(e){return e}function J(e){return e}return L(async()=>{try{c.sectionIndex=await p.getAllAsync({toast:t,token:await a.getAccessTokenAsync(s,{toast:t})})}finally{c.isLoading=!1}}),(e,m)=>(n(),i("div",j,[r("div",F,[R,c.isLoading?(n(),i("div",E,[u(B)])):(n(),i("div",G,[(n(!0),i(v,null,T(c.sectionIndex,(f,y)=>(n(),i("span",null,[u(D,{class:"p-2 bg-mysticStone text-white rounded flex pl-5 my-3",id:y,courseId:d.courseId,name:f.name,description:f.description},null,8,["id","courseId","name","description"]),x(a).isAdmin(x(s))?(n(),g(b,{key:0,handler:async()=>await l(y),text:"Delete?",class:"w-20"},null,8,["handler"])):C("",!0)]))),256)),u(M,{handler:_,handlerText:"Create",sectionId:"",sectionContent:"",sectionDifficulty:1,sectionDescription:"",sectionName:""})]))])]))}});export{W as default};
