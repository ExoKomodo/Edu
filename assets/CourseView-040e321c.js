import{d as h,_ as k,r as w,o as t,c as g,w as C,a as i,u as A,b as L,e as v,A as c,f as a,g as d,F as T,h as $,i as S,j as x,k as I,l as M}from"./index-3fc7e24a.js";import{C as u,_ as b}from"./CourseEditor.vue_vue_type_script_setup_true_lang-7b7b17eb.js";import{S as B}from"./Spinner-31e2dbd4.js";import"./BlobService-b6957b08.js";const H=h({name:"CourseLink",props:{name:{type:String,required:!0},description:{type:String,required:!0},id:{type:String,required:!0}}});const N=["innerHTML"],V=["innerHTML"];function q(r,s,n,o,l,_){const p=w("RouterLink");return t(),g(p,{to:`/course/${r.id}`,class:"hover:bg-midnightGreen flex flex-col transition duration-250"},{default:C(()=>[i("p",{class:"text-2xl",innerHTML:r.name},null,8,N),i("p",{class:"text-gray-400",innerHTML:r.description},null,8,V)]),_:1},8,["to"])}const j=k(H,[["render",q],["__scopeId","data-v-c01ea960"]]),D={class:"courseBackground min-h-screen"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5 my-5"},R=i("h1",{class:"p-2 bg-mysticStone text-white rounded flex justify-center text-3xl font-bold my-3"},"courses",-1),E={key:0,class:"flex place-content-center"},G={key:1},Q=h({__name:"CourseView",setup(r){const s=S(),n=A(),o=L({isLoading:!0,courseIndex:{}});async function l(e){const m={id:e.id,content:e.content,metadata:{name:e.name,description:e.description}};await u.createAsync(m,{toast:n,token:await c.getAccessTokenAsync(s,{toast:n})}),window.location.reload()}async function _(e){await u.deleteAsync(e,{toast:n,token:await c.getAccessTokenAsync(s,{toast:n})}),window.location.reload()}function p(e){return e}function z(e){return e}return v(async()=>{try{o.courseIndex=await u.getAllAsync({toast:n,token:await c.getAccessTokenAsync(s,{toast:n})})}finally{o.isLoading=!1}}),(e,m)=>(t(),a("div",D,[i("div",F,[R,o.isLoading?(t(),a("div",E,[d(B)])):(t(),a("div",G,[(t(!0),a(T,null,$(o.courseIndex,(y,f)=>(t(),a("span",null,[d(j,{class:"p-2 bg-mysticStone text-white rounded flex pl-5 my-3",id:f,name:y.name,description:y.description},null,8,["id","name","description"]),x(c).isAdmin(x(s))?(t(),g(M,{key:0,handler:async()=>await _(f),text:"Delete?",class:"w-20"},null,8,["handler"])):I("",!0)]))),256)),d(b,{handler:l,handlerText:"Create",courseId:"",courseContent:"",courseDescription:"",courseName:""})]))])]))}});export{Q as default};
