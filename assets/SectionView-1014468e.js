import{d as g,_ as k,r as w,o as n,c as S,w as A,a as r,t as x,u as I,b as v,e as $,A as a,f as i,g as u,F as L,h as b,i as T,j as h,k as C,l as B}from"./index-09a06164.js";import{_ as N}from"./SectionEditor.vue_vue_type_script_setup_true_lang-1717978c.js";import{S as p}from"./SectionService-0d898c25.js";import{S as q}from"./Spinner-55aad769.js";import"./BlobService-b7e752f6.js";const D=g({name:"SectionLink",props:{name:{type:String,required:!0},description:{type:String,required:!0},id:{type:String,required:!0},courseId:{type:String,required:!0}}});const V={class:"text-2xl"},j={class:"text-gray-400"};function F(s,o,t,d,c,_){const l=w("RouterLink");return n(),S(l,{to:`/course/${s.courseId}/section/${s.id}`,class:"hover:bg-midnightGreen flex flex-col transition duration-250"},{default:A(()=>[r("p",V,x(s.name),1),r("p",j,x(s.description)+"...",1)]),_:1},8,["to"])}const M=k(D,[["render",F],["__scopeId","data-v-1db9d8fc"]]),R={class:"sectionBackground min-h-screen"},E={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5 my-5"},G=r("h1",{class:"p-2 bg-mysticStone text-white rounded flex justify-center text-3xl font-bold my-3"},"Sections",-1),z={key:0,class:"flex place-content-center"},H={key:1},X=g({__name:"SectionView",props:{courseId:{}},setup(s){const o=T(),t=I(),d=s,c=v({isLoading:!0,sectionIndex:{}});async function _(e){const m={id:e.id,content:e.content,difficulty:Number.parseInt(e.difficulty),metadata:{name:e.name,description:e.description,courseId:d.courseId}};await p.createAsync(m,{toast:t,token:await a.getAccessTokenAsync(o,{toast:t})}),window.location.reload()}async function l(e){await p.deleteAsync(e,{toast:t,token:await a.getAccessTokenAsync(o,{toast:t})}),window.location.reload()}function J(e){return e}function K(e){return e}return $(async()=>{try{c.sectionIndex=await p.getAllAsync({toast:t,token:await a.getAccessTokenAsync(o,{toast:t})})}finally{c.isLoading=!1}}),(e,m)=>(n(),i("div",R,[r("div",E,[G,c.isLoading?(n(),i("div",z,[u(q)])):(n(),i("div",H,[(n(!0),i(L,null,b(c.sectionIndex,(f,y)=>(n(),i("span",null,[u(M,{class:"p-2 bg-mysticStone text-white rounded flex pl-5 my-3",id:y,courseId:d.courseId,name:f.name,description:f.description},null,8,["id","courseId","name","description"]),h(a).isAdmin(h(o))?(n(),S(B,{key:0,handler:async()=>await l(y),text:"Delete?",class:"w-20"},null,8,["handler"])):C("",!0)]))),256)),u(N,{handler:_,handlerText:"Create",sectionId:"",sectionContent:"",sectionDifficulty:1,sectionDescription:"",sectionName:""})]))])]))}});export{X as default};
