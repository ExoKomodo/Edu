import{d as y,u as _,b as h,o,f as i,a as b,j as a,t as m,k as d,g as u,i as x,A as k,e as w}from"./index-595d26d9.js";import{_ as g}from"./SectionEditor.vue_vue_type_script_setup_true_lang-33248df2.js";import{S as A}from"./SectionService-ef24518e.js";import{S}from"./Spinner-3555c415.js";import"./BlobService-d82a31bb.js";const v={class:"sectionPostBackground min-h-screen"},T={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-white"},I={key:0,class:"text-2xl font-bold border-slate-400 rounded border-2 p-1 pl-2"},L=["innerHTML"],D={key:2,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2"},M=["innerHTML"],N=y({__name:"SectionPost",props:{id:{},courseId:{},name:{},content:{},description:{},difficulty:{}},setup(r){const n=x(),c=_(),e=r,t=h({isEditMode:!1,showPreview:!1,id:e.id,name:e.name,content:e.content,description:e.description,difficulty:e.difficulty});async function l(s){const p={id:e.id,content:s.content,difficulty:Number.parseInt(s.difficulty),metadata:{name:s.name,description:s.description,courseId:e.courseId}};await A.updateAsync(p,{toast:c,token:await k.getAccessTokenAsync(n,{toast:c})}),window.location.reload()}return(s,p)=>{var f;return o(),i("div",v,[b("div",T,[a(n).isAuthenticated?(o(),i("p",I,m((f=t.name)==null?void 0:f.toUpperCase()),1)):d("",!0),a(n).isAuthenticated?(o(),i("p",{key:1,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:t.description},null,8,L)):d("",!0),a(n).isAuthenticated?(o(),i("p",D,"Difficulty: "+m(t.difficulty),1)):d("",!0),a(n).isAuthenticated?(o(),i("p",{key:3,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:t.content},null,8,M)):d("",!0),u(g,{handler:l,handlerText:"Update",sectionId:t.id,sectionContent:t.content,sectionDifficulty:t.difficulty,sectionDescription:t.description,sectionName:t.name},null,8,["sectionId","sectionContent","sectionDifficulty","sectionDescription","sectionName"])])])}}}),C={key:0,class:"flex place-content-center"},B={key:1},E=y({__name:"SectionPostView",props:{id:{},courseId:{}},setup(r){const n=x(),c=r,e=h({isLoading:!0,section:{}}),t=_();return w(async()=>{try{e.section=await A.getAsync(c.id,{toast:t,token:await k.getAccessTokenAsync(n)})}finally{e.isLoading=!1}}),(l,s)=>e.isLoading?(o(),i("div",C,[u(S)])):(o(),i("div",B,[u(N,{id:l.id,name:e.section.metadata.name,content:e.section.content,difficulty:e.section.difficulty,description:e.section.metadata.description,"course-id":c.courseId},null,8,["id","name","content","difficulty","description","course-id"])]))}});export{E as default};
