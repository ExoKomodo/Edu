import{d as x,u as h,b,o as n,f as t,a as c,k as r,t as m,l as d,F as k,h as E,g as u,j as I,A as y,e as w}from"./index-3492b608.js";import{_ as S,A as f}from"./AssignmentService-deb80a88.js";import{S as v}from"./Spinner-3a9e1c20.js";import"./SectionService-15405545.js";import"./BlobService-93622bdb.js";const T={class:"assignmentPostBackground min-h-screen"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-white"},P={key:0,class:"text-2xl font-bold border-slate-400 rounded border-2 p-1 pl-2"},N={key:1,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2"},q=c("figcaption",null,"Required Sections",-1),B={class:"list-disc pl-6"},M={key:2,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2"},V=["innerHTML"],$=x({__name:"AssignmentPost",props:{id:{},courseId:{},name:{},description:{},problemExplanation:{},sectionIds:{}},setup(l){const a=I(),o=h(),e=l,s=b({isEditMode:!1,showPreview:!1,id:e.id,name:e.name,description:e.description,problemExplanation:e.problemExplanation,sectionIds:e.sectionIds});async function p(i){const g={id:e.id,problemExplanation:i.problemExplanation,metadata:{name:i.name,description:i.description,requiredSectionIds:i.requiredSectionIds,courseId:e.courseId}};await f.updateAsync(g,{toast:o,token:await y.getAccessTokenAsync(a,{toast:o})}),window.location.reload()}return(i,g)=>{var _;return n(),t("div",T,[c("div",L,[r(a).isAuthenticated?(n(),t("p",P,m((_=s.name)==null?void 0:_.toUpperCase()),1)):d("",!0),r(a).isAuthenticated?(n(),t("div",N,[c("figure",null,[q,c("ul",B,[(n(!0),t(k,null,E(s.sectionIds,A=>(n(),t("li",null,m(A),1))),256))])])])):d("",!0),r(a).isAuthenticated?(n(),t("p",M,m(s.description),1)):d("",!0),r(a).isAuthenticated?(n(),t("p",{key:3,class:"text-xl border-slate-400 rounded border-2 p-1 pl-2 my-2",innerHTML:s.problemExplanation},null,8,V)):d("",!0),u(S,{handler:p,handlerText:"Update",assignmentId:s.id,assignmentProblemExplanation:s.problemExplanation,assignmentDescription:s.description,assignmentName:s.name,assignmentSectionIds:s.sectionIds},null,8,["assignmentId","assignmentProblemExplanation","assignmentDescription","assignmentName","assignmentSectionIds"])])])}}}),C={key:0,class:"flex place-content-center"},D={key:1},z=x({__name:"AssignmentPostView",props:{id:{},courseId:{}},setup(l){const a=I(),o=l,e=b({isLoading:!0,assignment:{}}),s=h();return w(async()=>{try{e.assignment=await f.getAsync(o.id,{toast:s,token:await y.getAccessTokenAsync(a)})}finally{e.isLoading=!1}}),(p,i)=>e.isLoading?(n(),t("div",C,[u(v)])):(n(),t("div",D,[u($,{id:p.id,name:e.assignment.metadata.name,problemExplanation:e.assignment.problemExplanation,description:e.assignment.metadata.description,courseId:o.courseId,sectionIds:e.assignment.metadata.requiredSectionIds},null,8,["id","name","problemExplanation","description","courseId","sectionIds"])]))}});export{z as default};
